<!DOCTYPE HTML>
<html>
	<head>
		<title>LjsKeychainManager Class Reference</title>
		<meta http-equiv="Content-Type" content="application/xhtml+xml;charset=utf-8" />
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" />
		<meta name="generator" content="appledoc 2.0.5 (build 737)" />
	</head>
	<body>
		<header id="top_header">
			<div id="title" role="banner">
				<h1 class="hideInXcode">LjsKeychainManager Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/deleteShouldUseKeyChainInDefaults:error:">&nbsp;&nbsp;&nbsp;&nbsp;- deleteShouldUseKeyChainInDefaults:error:</option>
	
	<option value="//api/name/deleteUsernameInDefaultsForKey:error:">&nbsp;&nbsp;&nbsp;&nbsp;- deleteUsernameInDefaultsForKey:error:</option>
	
	<option value="//api/name/hasKeychainPasswordForUsername:serviceName:error:">&nbsp;&nbsp;&nbsp;&nbsp;- hasKeychainPasswordForUsername:serviceName:error:</option>
	
	<option value="//api/name/isValidKey:">&nbsp;&nbsp;&nbsp;&nbsp;- isValidKey:</option>
	
	<option value="//api/name/isValidPassword:">&nbsp;&nbsp;&nbsp;&nbsp;- isValidPassword:</option>
	
	<option value="//api/name/isValidUsername:">&nbsp;&nbsp;&nbsp;&nbsp;- isValidUsername:</option>
	
	<option value="//api/name/keychainDeletePasswordForUsername:serviceName:error:">&nbsp;&nbsp;&nbsp;&nbsp;- keychainDeletePasswordForUsername:serviceName:error:</option>
	
	<option value="//api/name/keychainPasswordForUsernameInDefaults:serviceName:error:">&nbsp;&nbsp;&nbsp;&nbsp;- keychainPasswordForUsernameInDefaults:serviceName:error:</option>
	
	<option value="//api/name/keychainStoreUsername:serviceName:password:error:">&nbsp;&nbsp;&nbsp;&nbsp;- keychainStoreUsername:serviceName:password:error:</option>
	
	<option value="//api/name/ljsKeychainManagerErrorWithCode:userInfo:">&nbsp;&nbsp;&nbsp;&nbsp;- ljsKeychainManagerErrorWithCode:userInfo:</option>
	
	<option value="//api/name/logKeychainError:">&nbsp;&nbsp;&nbsp;&nbsp;- logKeychainError:</option>
	
	<option value="//api/name/setDefaultsShouldUseKeyChain:key:error:">&nbsp;&nbsp;&nbsp;&nbsp;- setDefaultsShouldUseKeyChain:key:error:</option>
	
	<option value="//api/name/setDefaultsUsername:forKey:error:">&nbsp;&nbsp;&nbsp;&nbsp;- setDefaultsUsername:forKey:error:</option>
	
	<option value="//api/name/shouldUseKeyChainWithKey:error:">&nbsp;&nbsp;&nbsp;&nbsp;- shouldUseKeyChainWithKey:error:</option>
	
	<option value="//api/name/synchronizeKeychainAndDefaultsWithUsername:usernameDefaultsKey:password:shouldUseKeychainDefaultsKey:shouldUseKeyChain:serviceName:error:">&nbsp;&nbsp;&nbsp;&nbsp;- synchronizeKeychainAndDefaultsWithUsername:usernameDefaultsKey:password:shouldUseKeychainDefaultsKey:shouldUseKeyChain:serviceName:error:</option>
	
	<option value="//api/name/usernameStoredInDefaultsForKey:">&nbsp;&nbsp;&nbsp;&nbsp;- usernameStoredInDefaultsForKey:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Username and Password Validity">Username and Password Validity</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Managing Username in Defaults">Managing Username in Defaults</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Managing Whether the Keychain Should be Used in Defaults">Managing Whether the Keychain Should be Used in Defaults</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Interacting with the Keychain">Interacting with the Keychain</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Synchronizing with Defaults">Synchronizing with Defaults</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Utility">Utility</a></span></li>
	
</ul></li>









<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/deleteShouldUseKeyChainInDefaults:error:">deleteShouldUseKeyChainInDefaults:error:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/deleteUsernameInDefaultsForKey:error:">deleteUsernameInDefaultsForKey:error:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/hasKeychainPasswordForUsername:serviceName:error:">hasKeychainPasswordForUsername:serviceName:error:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/isValidKey:">isValidKey:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/isValidPassword:">isValidPassword:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/isValidUsername:">isValidUsername:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/keychainDeletePasswordForUsername:serviceName:error:">keychainDeletePasswordForUsername:serviceName:error:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/keychainPasswordForUsernameInDefaults:serviceName:error:">keychainPasswordForUsernameInDefaults:serviceName:error:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/keychainStoreUsername:serviceName:password:error:">keychainStoreUsername:serviceName:password:error:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/ljsKeychainManagerErrorWithCode:userInfo:">ljsKeychainManagerErrorWithCode:userInfo:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/logKeychainError:">logKeychainError:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/setDefaultsShouldUseKeyChain:key:error:">setDefaultsShouldUseKeyChain:key:error:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/setDefaultsUsername:forKey:error:">setDefaultsUsername:forKey:error:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/shouldUseKeyChainWithKey:error:">shouldUseKeyChainWithKey:error:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/synchronizeKeychainAndDefaultsWithUsername:usernameDefaultsKey:password:shouldUseKeychainDefaultsKey:shouldUseKeyChain:serviceName:error:">synchronizeKeychainAndDefaultsWithUsername:usernameDefaultsKey:password:shouldUseKeychainDefaultsKey:shouldUseKeyChain:serviceName:error:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/usernameStoredInDefaultsForKey:">usernameStoredInDefaultsForKey:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="LjsKeychainManager Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">LjsKeychainManager Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">LjsKeychainManager.h<br />LjsKeychainManager.m</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>It is a common design pattern to have a username stored in defaults and a
password optionally (user controlled) stored in the Keychain.
<a href="LjsKeychainManager.html">LjsKeychainManager</a> provides methods to bridge the Keychain Access API (using
the SFHFKeychainUtils) and the User Defaults API.</p>

<p>@warn Class could use more testing.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						<a title="Username and Password Validity" name="task_Username and Password Validity"></a>
						<h3 class="subsubtitle task-title">Username and Password Validity</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/isValidUsername:">&ndash;&nbsp;isValidUsername:</a></code>
		<span class="tooltip"><p>used to determine the validity of a username</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/isValidPassword:">&ndash;&nbsp;isValidPassword:</a></code>
		<span class="tooltip"><p>used to determine the validity of a password</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/isValidKey:">&ndash;&nbsp;isValidKey:</a></code>
		<span class="tooltip"><p>true iff key is non-nil and non empty</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Managing Username in Defaults" name="task_Managing Username in Defaults"></a>
						<h3 class="subsubtitle task-title">Managing Username in Defaults</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/usernameStoredInDefaultsForKey:">&ndash;&nbsp;usernameStoredInDefaultsForKey:</a></code>
		<span class="tooltip"><p>queries the NSUserDefaults standardUserDefaults with the AgChoiceUsernameDefaultsKey</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/deleteUsernameInDefaultsForKey:error:">&ndash;&nbsp;deleteUsernameInDefaultsForKey:error:</a></code>
		<span class="tooltip"><p>deletes the value (if any) for the key AgChoiceUsernameDefaultsKey from the
NSUserDefaults standardUserDefaults</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/setDefaultsUsername:forKey:error:">&ndash;&nbsp;setDefaultsUsername:forKey:error:</a></code>
		<span class="tooltip"><p>sets the value for key AgChoiceUsernameDefaultsKey in the NSUserDefaults
standardUserDefaults</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Managing Whether the Keychain Should be Used in Defaults" name="task_Managing Whether the Keychain Should be Used in Defaults"></a>
						<h3 class="subsubtitle task-title">Managing Whether the Keychain Should be Used in Defaults</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/shouldUseKeyChainWithKey:error:">&ndash;&nbsp;shouldUseKeyChainWithKey:error:</a></code>
		<span class="tooltip"><p>the BOOL value of the item stored in defaults under key</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/deleteShouldUseKeyChainInDefaults:error:">&ndash;&nbsp;deleteShouldUseKeyChainInDefaults:error:</a></code>
		<span class="tooltip"><p>true iff the delete was successful</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/setDefaultsShouldUseKeyChain:key:error:">&ndash;&nbsp;setDefaultsShouldUseKeyChain:key:error:</a></code>
		<span class="tooltip"><p>sets defaults value to shouldUse for key</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Interacting with the Keychain" name="task_Interacting with the Keychain"></a>
						<h3 class="subsubtitle task-title">Interacting with the Keychain</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/hasKeychainPasswordForUsername:serviceName:error:">&ndash;&nbsp;hasKeychainPasswordForUsername:serviceName:error:</a></code>
		<span class="tooltip"><p>queries the keychain to see if a password is stored for username</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/keychainPasswordForUsernameInDefaults:serviceName:error:">&ndash;&nbsp;keychainPasswordForUsernameInDefaults:serviceName:error:</a></code>
		<span class="tooltip"><p>queries the keychain for the password stored for username</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/keychainDeletePasswordForUsername:serviceName:error:">&ndash;&nbsp;keychainDeletePasswordForUsername:serviceName:error:</a></code>
		<span class="tooltip"><p>deletes the password for the keychain entry for the username</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/keychainStoreUsername:serviceName:password:error:">&ndash;&nbsp;keychainStoreUsername:serviceName:password:error:</a></code>
		<span class="tooltip"><p>stores a username and password to the keychain</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Synchronizing with Defaults" name="task_Synchronizing with Defaults"></a>
						<h3 class="subsubtitle task-title">Synchronizing with Defaults</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/synchronizeKeychainAndDefaultsWithUsername:usernameDefaultsKey:password:shouldUseKeychainDefaultsKey:shouldUseKeyChain:serviceName:error:">&ndash;&nbsp;synchronizeKeychainAndDefaultsWithUsername:usernameDefaultsKey:password:shouldUseKeychainDefaultsKey:shouldUseKeyChain:serviceName:error:</a></code>
		<span class="tooltip"><p>synchronizes the Keychain and User Defaults</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Utility" name="task_Utility"></a>
						<h3 class="subsubtitle task-title">Utility</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/ljsKeychainManagerErrorWithCode:userInfo:">&ndash;&nbsp;ljsKeychainManagerErrorWithCode:userInfo:</a></code>
		<span class="tooltip"><p>an error using the LjsKeychainManagerErrorDomain and code</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/logKeychainError:">&ndash;&nbsp;logKeychainError:</a></code>
		<span class="tooltip"><p>prints error information to the log stream(s)</p></span>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/deleteShouldUseKeyChainInDefaults:error:" title="deleteShouldUseKeyChainInDefaults:error:"></a>
	<h3 class="subsubtitle method-title">deleteShouldUseKeyChainInDefaults:error:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>true iff the delete was successful</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)deleteShouldUseKeyChainInDefaults:(NSString *)<em>key</em> error:(NSError **)<em>error</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>the key to lookup (and delete) from defaults</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>catches bad key</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>true iff the delete was successful</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/deleteUsernameInDefaultsForKey:error:" title="deleteUsernameInDefaultsForKey:error:"></a>
	<h3 class="subsubtitle method-title">deleteUsernameInDefaultsForKey:error:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>deletes the value (if any) for the key AgChoiceUsernameDefaultsKey from the
NSUserDefaults standardUserDefaults</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)deleteUsernameInDefaultsForKey:(NSString *)<em>key</em> error:(NSError **)<em>error</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>the key under which to look for the username</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>catches invalid key errors</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>true iff the delete was successful</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>deletes the value (if any) for the key AgChoiceUsernameDefaultsKey from the
NSUserDefaults standardUserDefaults</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/hasKeychainPasswordForUsername:serviceName:error:" title="hasKeychainPasswordForUsername:serviceName:error:"></a>
	<h3 class="subsubtitle method-title">hasKeychainPasswordForUsername:serviceName:error:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>queries the keychain to see if a password is stored for username</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)hasKeychainPasswordForUsername:(NSString *)<em>username</em> serviceName:(NSString *)<em>serviceName</em> error:(NSError **)<em>error</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>username</em></dt>
			<dd><p>the name we want the password for</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>serviceName</em></dt>
			<dd><p>the keychain service name</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>catches bad usernames</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>true iff the keychain has a password for the username</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>queries the keychain to see if a password is stored for username</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/isValidKey:" title="isValidKey:"></a>
	<h3 class="subsubtitle method-title">isValidKey:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>true iff key is non-nil and non empty</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)isValidKey:(NSString *)<em>key</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>the key to test</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>true iff key is non-nil and non empty</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/isValidPassword:" title="isValidPassword:"></a>
	<h3 class="subsubtitle method-title">isValidPassword:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>used to determine the validity of a password</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)isValidPassword:(NSString *)<em>password</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>password</em></dt>
			<dd><p>the password to check</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>true iff password is a non-nil, non-empty string</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>used to determine the validity of a password</p>

<p>currently there are no restrictions on passwords other than they not be
nil or empty</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/isValidUsername:" title="isValidUsername:"></a>
	<h3 class="subsubtitle method-title">isValidUsername:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>used to determine the validity of a username</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)isValidUsername:(NSString *)<em>username</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>username</em></dt>
			<dd><p>the name to check</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>true if username is a non-nil, non-empty string</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>used to determine the validity of a username</p>

<p>currently there are no restrictions on usernames other than they not be
nil or empty</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/keychainDeletePasswordForUsername:serviceName:error:" title="keychainDeletePasswordForUsername:serviceName:error:"></a>
	<h3 class="subsubtitle method-title">keychainDeletePasswordForUsername:serviceName:error:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>deletes the password for the keychain entry for the username</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)keychainDeletePasswordForUsername:(NSString *)<em>username</em> serviceName:(NSString *)<em>serviceName</em> error:(NSError **)<em>error</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>username</em></dt>
			<dd><p>the username for the password we would like to delete</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>serviceName</em></dt>
			<dd><p>the service name for the password</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>catches Keychain Access error</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>true iff password was deleted</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>deletes the password for the keychain entry for the username</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/keychainPasswordForUsernameInDefaults:serviceName:error:" title="keychainPasswordForUsernameInDefaults:serviceName:error:"></a>
	<h3 class="subsubtitle method-title">keychainPasswordForUsernameInDefaults:serviceName:error:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>queries the keychain for the password stored for username</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (NSString *)keychainPasswordForUsernameInDefaults:(NSString *)<em>key</em> serviceName:(NSString *)<em>serviceName</em> error:(NSError **)<em>error</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>the key under the username is stored</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>serviceName</em></dt>
			<dd><p>the keychain service name</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>catches bad key and Keychain Access error</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>returns the password stored for the username in the defaults or nil if
no password is found</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>queries the keychain for the password stored for username</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/keychainStoreUsername:serviceName:password:error:" title="keychainStoreUsername:serviceName:password:error:"></a>
	<h3 class="subsubtitle method-title">keychainStoreUsername:serviceName:password:error:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>stores a username and password to the keychain</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)keychainStoreUsername:(NSString *)<em>username</em> serviceName:(NSString *)<em>serviceName</em> password:(NSString *)<em>password</em> error:(NSError **)<em>error</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>username</em></dt>
			<dd><p>the username for the password we would like to store</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>serviceName</em></dt>
			<dd><p>the service name for the password</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>password</em></dt>
			<dd><p>the password to store for the username</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>catches Keychain Access error</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>true iff store was successful</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>stores a username and password to the keychain</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/ljsKeychainManagerErrorWithCode:userInfo:" title="ljsKeychainManagerErrorWithCode:userInfo:"></a>
	<h3 class="subsubtitle method-title">ljsKeychainManagerErrorWithCode:userInfo:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>an error using the LjsKeychainManagerErrorDomain and code</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (NSError *)ljsKeychainManagerErrorWithCode:(NSUInteger)<em>code</em> userInfo:(NSDictionary *)<em>userInfo</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>code</em></dt>
			<dd><p>the error code use</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>userInfo</em></dt>
			<dd><p>the user info dictionary</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>an error using the LjsKeychainManagerErrorDomain and code</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/logKeychainError:" title="logKeychainError:"></a>
	<h3 class="subsubtitle method-title">logKeychainError:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>prints error information to the log stream(s)</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)logKeychainError:(NSError *)<em>error</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>the error to log</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>prints error information to the log stream(s)</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/setDefaultsShouldUseKeyChain:key:error:" title="setDefaultsShouldUseKeyChain:key:error:"></a>
	<h3 class="subsubtitle method-title">setDefaultsShouldUseKeyChain:key:error:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>sets defaults value to shouldUse for key</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)setDefaultsShouldUseKeyChain:(BOOL)<em>shouldUse</em> key:(NSString *)<em>key</em> error:(NSError **)<em>error</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>shouldUse</em></dt>
			<dd><p>the new value to store in the User Defaults</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>the key under which to store the shouldUse value</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>catches bad key</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>sets defaults value to shouldUse for key</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/setDefaultsUsername:forKey:error:" title="setDefaultsUsername:forKey:error:"></a>
	<h3 class="subsubtitle method-title">setDefaultsUsername:forKey:error:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>sets the value for key AgChoiceUsernameDefaultsKey in the NSUserDefaults
standardUserDefaults</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)setDefaultsUsername:(NSString *)<em>username</em> forKey:(NSString *)<em>key</em> error:(NSError **)<em>error</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>username</em></dt>
			<dd><p>the new value for AgChoiceUsernamDefaultsKey</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>the key to store the username under</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>catches bad key and bad username</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>true iff the username was succesfully set</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>sets the value for key AgChoiceUsernameDefaultsKey in the NSUserDefaults
standardUserDefaults</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/shouldUseKeyChainWithKey:error:" title="shouldUseKeyChainWithKey:error:"></a>
	<h3 class="subsubtitle method-title">shouldUseKeyChainWithKey:error:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>the BOOL value of the item stored in defaults under key</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)shouldUseKeyChainWithKey:(NSString *)<em>key</em> error:(NSError **)<em>error</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>the key under which the should use keychain value is stored</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>catches bad key</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>the BOOL value of the item stored in defaults under key</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/synchronizeKeychainAndDefaultsWithUsername:usernameDefaultsKey:password:shouldUseKeychainDefaultsKey:shouldUseKeyChain:serviceName:error:" title="synchronizeKeychainAndDefaultsWithUsername:usernameDefaultsKey:password:shouldUseKeychainDefaultsKey:shouldUseKeyChain:serviceName:error:"></a>
	<h3 class="subsubtitle method-title">synchronizeKeychainAndDefaultsWithUsername:usernameDefaultsKey:password:shouldUseKeychainDefaultsKey:shouldUseKeyChain:serviceName:error:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>synchronizes the Keychain and User Defaults</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)synchronizeKeychainAndDefaultsWithUsername:(NSString *)<em>username</em> usernameDefaultsKey:(NSString *)<em>usernameKey</em> password:(NSString *)<em>password</em> shouldUseKeychainDefaultsKey:(NSString *)<em>shouldUseKeychainKey</em> shouldUseKeyChain:(BOOL)<em>shouldUseKeychain</em> serviceName:(NSString *)<em>serviceName</em> error:(NSError **)<em>error</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>username</em></dt>
			<dd><p>the username to persist to defaults</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>usernameKey</em></dt>
			<dd><p>the key under which to persist the username</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>password</em></dt>
			<dd><p>the password to store</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>shouldUseKeychainKey</em></dt>
			<dd><p>the key under which shouldUseKeychain value is stored</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>shouldUseKeychain</em></dt>
			<dd><p>the value to store under shouldUseKeychainKey</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>serviceName</em></dt>
			<dd><p>the service name for the password</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>catches Keychain Access error</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>true iff synchronization is successful</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>synchronizes the Keychain and User Defaults</p>

<p>if shouldUseKeychain is YES and username and password are valid, then the
pair is stored to the keychain and the username is stored in the User Defaults</p>

<p>if shouldUseKeychain is NO, then any existing password for username in the Keychain
is deleted.  the username is still persisted to User Defaults.</p>

<p>the value of shouldUseKeychain is persisted the User Defaults</p>

<p>This method will fail fast, but it is possible that the defaults might be set
and the keychain elements will not be updated</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/usernameStoredInDefaultsForKey:" title="usernameStoredInDefaultsForKey:"></a>
	<h3 class="subsubtitle method-title">usernameStoredInDefaultsForKey:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>queries the NSUserDefaults standardUserDefaults with the AgChoiceUsernameDefaultsKey</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (NSString *)usernameStoredInDefaultsForKey:(NSString *)<em>key</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>the defaults key</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>if there is no entry, will return nil</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>queries the NSUserDefaults standardUserDefaults with the AgChoiceUsernameDefaultsKey</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">LjsKeychainManager.m</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2011 Little Joy Software. All rights reserved. (Last updated: 2011-12-27)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.0.5 (build 737)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
		</script>
	</body>
</html>